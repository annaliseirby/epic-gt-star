<!DOCTYPE html>

<head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    
    #Title {
        float: left;
        height: 10%;
        width: 100%;
        font-size: 60px;
    }
    
    #map {
        float: left;
        width: 80%;
        height: 90%;
    }
    
    #rightColumn {
        float: left;
        width: 20%;
        height: 90%;
    }
    
    #filterZone {
        float: left;
        width: 100%;
        height: 30%;
    }
    
    #resultList {
        float: left;
        width: 100%;
        height: 70%;
    }
    /* Optional: Makes the sample page fill the window. */
    
    html,
    body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    </style>
</head>

<body>
    <div id="Title">
        Title
    </div>
    <div id="rightColumn">
        <div id="filterZone">filter
            <form>
                Min
                <br>
                <input type="text" id="min_text" name="minPrice">
                <br> Max:
                <br>
                <input type="text" id="max_text" name="maxPrice">
                <input type="submit" id="refresh_button" value="Submit" onclick="refreshMap">
            </form>
        </div>
        <div id="resultList">resultList</div>
    </div>
    <div id="map"></div>
    </div>
    <script>
    var list = [{
        geoCode: {
            lat: 33.779399,
            lng: -84.378623
        },
        name: "908 Penn Ave NE",
        price: 970
    }, {
        geoCode: {
            lat: 33.771788,
            lng: -84.391037
        },
        name: "630 Williams St NW",
        price: 1000
    }, {
        geoCode: {
            lat: 33.770260,
            lng: -84.389442
        },
        name: "570 Spring St NW",
        price: 800
    }, {
        geoCode: {
            lat: 33.773286,
            lng: -84.412799
        },
        name: "777 Donald Lee Hollowell Pkwy NW",
        price: 650
    }, {
        geoCode: {
            lat: 33.786543,
            lng: -84.397500
        },
        name: "321 14th St NW",
        price: 560
    }, {
        geoCode: {
            lat: 33.787147,
            lng: -84.398983
        },
        name: "1186 State St NW",
        price: 780
    }, {
        geoCode: {
            lat: 33.766227,
            lng: -84.393291
        },
        name: "430 Lovejoy St NW",
        price: 810
    }, {
        geoCode: {
            lat: 33.767565,
            lng: -84.391155
        },
        name: "102 Pine St NW",
        price: 640
    }, {
        geoCode: {
            lat: 33.773770,
            lng: -84.387746
        },
        name: "696 West Peachtree St NW",
        price: 450
    }, {
        geoCode: {
            lat: 33.776508,
            lng: -84.391587
        },
        name: "801 Techwood Dr NW",
        price: 840
    }, {
        geoCode: {
            lat: 33.780280,
            lng: -84.385225
        },
        name: "77 Peachtree Pl NE",
        price: 640
    }, {
        geoCode: {
            lat: 33.775884,
            lng: -84.381888
        },
        name: "165 5th St NE",
        price: 780
    }, {
        geoCode: {
            lat: 33.769543,
            lng: -84.384978
        },
        name: "549 Peachtree St NE",
        price: 730
    }, {
        geoCode: {
            lat: 33.770575,
            lng: -84.410717
        },
        name: "712 Dalvigney St NW",
        price: 550
    }, {
        geoCode: {
            lat: 33.775657,
            lng: -84.410023
        },
        name: "708 Jefferson St NW",
        price: 670
    }, {
        geoCode: {
            lat: 33.780972,
            lng: -84.411132
        },
        name: "962 Howell Mill Rd NW",
        price: 910
    }, {
        geoCode: {
            lat: 33.782156,
            lng: -84.406678
        },
        name: "1005 Hampton St NW",
        price: 480
    }, {
        geoCode: {
            lat: 33.783014,
            lng: -84.401124
        },
        name: "429 Calhoun St NW",
        price: 590
    }, {
        geoCode: {
            lat: 33.781726,
            lng: -84.398751
        },
        name: "355 10th St NW",
        price: 670
    }, {
        geoCode: {
            lat: 33.768857,
            lng: -84.388279
        },
        name: "530 West Peachtree St NW",
        price: 1100
    }, ];
    var map;
    var uluru;

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {
                lat: 33.772275,
                lng: -84.394421
            },
            zoom: 14
        });
        for (i = 0; i < list.length; i++) {
            uluru = list[i].geoCode;
            var marker = new google.maps.Marker({
                position: uluru,
                map: map
            });
        };

    }

    var minText = document.getElementById("min_text");
    var maxText = document.getElementById("max_text");

    // TODO: update map 
    function refreshMap() {
        for (i = 0; i < list.length; i++) {
            uluru = list[i].geoCode;
            if (list[i].price >= minText.value && list[i].price <= maxText.value) {
                var marker = new google.maps.Marker({
                    position: uluru,
                    map: map
                });
            };
        };
    }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCnLvm9iFfzjSfknLdWFMMLWWTiGxfBXh4&callback=initMap">
    </script>
</body>
